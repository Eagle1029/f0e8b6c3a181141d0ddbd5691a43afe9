"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6562],{86562:function(e,t,a){a.r(t);var s=a(85893),l=a(83253),r=a.n(l),o=a(94184),n=a.n(o),i=a(67294),d=a(19870),c=a(2664),u=a(40975),p=a(64709),m=a(83480),g=a(69316),b=a(27982),f=a(97787),h=a(88208),x=a(66713),w=a(34558),y=a(71667),j=a.n(y),Z=a(86501),C=a(62557);r().setAppElement("#__next"),t.default=(0,c.$j)(e=>({showGiftcardDeposit:e.auth.showGiftcardDeposit}))(function(e){let{className:t,showGiftcardDeposit:a}=e,[l,o]=(0,i.useState)(!1),[y,v]=(0,i.useState)(1666),[k,N]=(0,i.useState)(""),[D,M]=(0,i.useState)(!1),[R]=(0,i.useState)([{robux:1111,giftCardUrl:"https://www.kinguin.net/category/119488/bloxflip-5-robux-balance-gift-card"},{robux:2222,giftCardUrl:"https://www.kinguin.net/category/119875/bloxflip-10-robux-balance-gift-card"},{robux:5555,giftCardUrl:"https://www.kinguin.net/category/119876/bloxflip-25-robux-balance-gift-card"},{robux:11111,giftCardUrl:"https://www.kinguin.net/category/119877/bloxflip-50-robux-balance-gift-card"},{robux:22222,giftCardUrl:"https://www.kinguin.net/category/119878/bloxflip-100-robux-balance-gift-card"},{robux:55555,giftCardUrl:"https://www.kinguin.net/category/119879/bloxflip-250-robux-balance-gift-card"}]),I=(0,c.I0)(),T=i.useMemo(()=>(0,h.P)("margin"),["margin"]);function closeModal(){I({type:d.jg}),I({type:d.Mr}),o(!1),document.body.style.overflow="initial",document.body.style.paddingRight="0px"}(0,i.useEffect)(()=>{a?(o(!0),setTimeout(()=>{document.body.style.overflow="hidden",document.body.style.paddingRight=T.gap+"px"},0)):!1===a&&closeModal()},[a]);let openLink=(e,t)=>{v(e),window.open(t,"_blank","noopener,noreferrer")},handleDepositGiftNum=async()=>{M(!0);try{var e,t,a;let s=null!==(t=C.Z.getState().auth.analyticsId2)&&void 0!==t?t:window.analyticsId2,l=await (0,w.ZO)(k,s,window.ga4ClientId);M(!1),l.success?Z.ZP.success("Successfully deposited R$ ".concat(l.depositAmount.toFixed(2))):Z.ZP.error(null!==(a=null==l?void 0:null===(e=l.data)||void 0===e?void 0:e.error)&&void 0!==a?a:"Something went wrong...")}catch(e){if(M(!1),e.response&&e.response.data&&e.response.data.errors)for(let t=0;t<e.response.data.errors.length;t++){let a=e.response.data.errors[t];Z.ZP.error(a.msg)}else e.response&&e.response.data&&e.response.data.error?Z.ZP.error(e.response.data.error):Z.ZP.error("There was an error while requesting this withdrawal. Please try again later!")}};return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(r(),{isOpen:l,onRequestClose:closeModal,contentLabel:"Replenishment modal",className:n()(j().defaultModal,j().modalDeposit,j().giftcardModal,t),closeTimeoutMS:200,children:[(0,s.jsxs)("div",{className:j().defaultModalBreadcrumbs,children:[(0,s.jsx)(m.Z,{className:j().defaultModalBreadcrumbsItem,children:(0,s.jsx)(g.Z,{onClick:closeModal,element:"span",textType:"labelsRegular",children:"Deposit"})}),(0,s.jsx)(m.Z,{className:j().defaultModalBreadcrumbsItem,children:(0,s.jsx)(g.Z,{element:"span",textType:"labelsRegular",children:"Gift card"})})]}),(0,s.jsx)(b.Z,{style:{margin:"1em 0"},element:"h2",className:j().modalDepositTitle,children:"Deposit Gift Card"}),(0,s.jsxs)("div",{className:j().modalDepositOptions,children:[(0,s.jsx)(g.Z,{element:"p",textType:"labelsRegular",className:j().modalDepositOptionsLabel,children:"Deposit R$ by redeeming a Ro.Market giftcard! You can buy with PayPal, credit/debit cards and other"}),(0,s.jsx)("div",{className:j().modalDepositOptionsList,children:R.map((e,t)=>{let{robux:a,giftCardUrl:l}=e;return(0,s.jsxs)(m.Z,{onClick:()=>{openLink(a,l)},style:{marginTop:"1.5em"},variant:"tab",isActive:a===y,children:[(0,u.Z)((0,p.Z)(a))," ",(0,s.jsx)(x.Z,{})]},t)})})]}),(0,s.jsxs)("div",{className:n()("customInput",j().modalDepositInput),children:[(0,s.jsx)(g.Z,{element:"p",textType:"labelsRegular",className:n()("customInputLabel"),children:"Gift Card number"}),(0,s.jsxs)("div",{className:n()("customInputInner"),children:[(0,s.jsx)(f.Z,{placeholder:"Enter your Gift Card number",onChange:e=>N(e.target.value),value:k}),(0,s.jsxs)(g.Z,{element:"p",textType:"regular14",className:j().modalDepositInputAmount,children:[(0,s.jsx)(x.Z,{})," ",y]})]})]}),(0,s.jsx)(m.Z,{onClick:handleDepositGiftNum,disabled:D,variant:"primary",className:j().modalDepositButton,children:D?"Redeeming...":"Redeem Giftcard"}),(0,s.jsx)(m.Z,{onClick:closeModal,className:j().defaultModalClose,"aria-label":"Close"})]})})})}}]);