"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7902],{97902:function(e,s,o){o.r(s);var a=o(85893),t=o(67294),l=o(83253),r=o.n(l),n=o(94184),d=o.n(n),c=o(2664),i=o(83480),m=o(69316),u=o(27982),p=o(97787),h=o(71667),x=o.n(h),y=o(88208),f=o(19870),g=o(34558),j=o(86501);r().setAppElement("#__next"),s.default=(0,c.$j)(e=>({showPromoDeposit:e.auth.showPromoDeposit}))(function(e){let{className:s,showPromoDeposit:o}=e,[l,n]=(0,t.useState)(!1),[h,b]=(0,t.useState)(""),[N,Z]=(0,t.useState)(!1),M=t.useMemo(()=>(0,y.P)("margin"),["margin"]),P=(0,c.I0)(),handleRedeem=async()=>{if(!h)return j.ZP.error("Please enter valid coupon code");n(!0);try{let e=await (0,g.ou)(h);n(!1);let s="string"==typeof e.message?e.message:"Redeeemed successfully";j.ZP.success(null!=s?s:""),P({type:f.xf}),P({type:f.Fv}),P({type:f.nX}),P({type:f.Nq})}catch(e){if(n(!1),e.response&&e.response.data&&e.response.data.errors)for(let s=0;s<e.response.data.errors.length;s++){let o=e.response.data.errors[s];j.ZP.error(o.msg)}else e.response&&e.response.data&&e.response.data.error?j.ZP.error(e.response.data.error):j.ZP.error("There was an error while claiming this coupon code. Please try again later!")}};function closeModal(){P({type:f.Nq}),P({type:f.Mr}),Z(!1),document.body.style.overflow="initial",document.body.style.paddingRight="0px"}return(0,t.useEffect)(()=>{o?(Z(!0),setTimeout(()=>{document.body.style.overflow="hidden",document.body.style.paddingRight=M.gap+"px"},0)):!1===o&&closeModal()},[o]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(r(),{isOpen:N,onRequestClose:closeModal,contentLabel:"Replenishment modal",className:d()(x().defaultModal,x().modalDeposit,s),closeTimeoutMS:200,children:[(0,a.jsxs)("div",{className:x().defaultModalBreadcrumbs,children:[(0,a.jsx)(i.Z,{className:x().defaultModalBreadcrumbsItem,children:(0,a.jsx)(m.Z,{onClick:closeModal,element:"span",textType:"labelsRegular",children:"Deposit"})}),(0,a.jsx)(i.Z,{className:x().defaultModalBreadcrumbsItem,children:(0,a.jsx)(m.Z,{element:"span",textType:"labelsRegular",children:"Promocode"})})]}),(0,a.jsx)("br",{}),(0,a.jsx)(u.Z,{element:"h2",className:x().modalDepositTitle,children:"Promo code"}),(0,a.jsx)(m.Z,{element:"p",textType:"regular14",className:x().modalDepositText,children:"Discounts or Robux from a promo code that you have"}),(0,a.jsx)("br",{}),(0,a.jsx)("div",{className:d()("customInput",x().modalDepositInput),children:(0,a.jsx)("div",{className:d()("customInputInner"),children:(0,a.jsx)(p.Z,{placeholder:"Enter your Promo Code",value:h,onChange:e=>b(e.target.value)})})}),(0,a.jsx)(i.Z,{onClick:handleRedeem,variant:"primary",className:x().modalDepositButton,children:l?"Redeeming":"Redeem"}),(0,a.jsx)(i.Z,{onClick:closeModal,className:x().defaultModalClose,"aria-label":"Close"})]})})})}}]);