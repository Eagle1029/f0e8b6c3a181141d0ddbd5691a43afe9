(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9462],{62484:function(e,t,a){"use strict";var s,o=a(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(this,arguments)}t.Z=function(e){return o.createElement("svg",_extends({fill:"#8690bf",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 318.293 318.293",style:{enableBackground:"new 0 0 318.293 318.293"},xmlSpace:"preserve"},e),s||(s=o.createElement("path",{d:"M159.148 0c-52.696 0-95.544 39.326-95.544 87.662h47.736c0-22.007 21.438-39.927 47.808-39.927 26.367 0 47.804 17.92 47.804 39.927v6.929c0 23.39-10.292 34.31-25.915 50.813-20.371 21.531-45.744 48.365-45.744 105.899h47.745c0-38.524 15.144-54.568 32.692-73.12 17.368-18.347 38.96-41.192 38.96-83.592v-6.929C254.689 39.326 211.845 0 159.148 0zM134.475 277.996h49.968v40.297h-49.968z"})))}},1490:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cups",function(){return a(56549)}])},27031:function(e,t,a){"use strict";a.d(t,{Z:function(){return GameLayout}});var s=a(85893),o=a(76633),l=a.n(o),n=a(94184),r=a.n(n),i=a(1277);let u={left:l().gameLayoutColumnLeft,right:l().gameLayoutColumnRight,row:l().gameLayoutColumnRow,anotherLeft:l().gameLayoutColumnAnotherLeft,anotherRight:l().gameLayoutColumnAnotherRight};function GameLayout(e){let{className:t,children:a,...o}=e;return(0,s.jsx)("div",{className:l().gameLayout,...o,children:a})}GameLayout.Column=function(e){let{type:t,className:a,children:o,customMobileOrder:n="initial",...c}=e,m=(0,i.Z)();return(0,s.jsx)("div",{className:r()(l().gameLayoutColumn,u[t],a),style:{order:m.width<993?n:"initial"},...c,children:o})}},99103:function(e,t,a){"use strict";a.d(t,{Z:function(){return ShadowByColor}});var s=a(85893),o=a(94184),l=a.n(o),n=a(67294),r=a(53074),i=a.n(r);let ShadowByColor=e=>{var t,a;let{color:o,className:r,animation:u,disableOuterShadow:c,customColor:m}=e,[d,p]=(0,n.useState)(null);(0,n.useEffect)(()=>{o&&m&&!d&&p(Object.keys(m)[0])},[o,m,d]);let _=Object.assign({},{yellow:"#paint0_radial_422_227605",red:"#paint1_radial_422_227605",blue:"#paint2_radial_422_227605",purple:"#paint3_radial_422_227605",blueForced:"#paint4_radial_422_227605",blueOpened:"#paint5_radial_422_227605"},d?{[d]:"#".concat(d)}:{});return o?(0,s.jsx)("div",{className:l()(i().circleHoverAnimation,r),children:(0,s.jsxs)("svg",{width:"231",height:"238",viewBox:"0 0 231 238",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:!1===u?i().noAnimation:"",children:[(0,s.jsx)("path",{opacity:"0.3",fill:"transparent"===o?"transparent":"url(".concat(_[null!=d?d:o],")"),d:"M135.318 236.602L115.121 118.999L154.514 231.283L135.318 236.602ZM105.183 238L135.318 236.602L115.121 119.002L105.183 238ZM94.9217 236.602L115.118 118.999L75.725 231.287L94.9217 236.602ZM75.725 231.287L115.121 118.999L48.9555 216.921L75.725 231.287ZM40.7424 210.41L115.118 119.002L26.6911 195.881L40.7424 210.41ZM26.6911 195.881L115.121 118.999L10.4543 169.604L26.6911 195.881ZM6.49473 159.719L115.118 118.999L0 129.272L6.49473 159.719ZM0 129.272L115.118 119.002L0 108.729V129.272ZM1.35252 98.1213L115.121 118.999L9.73728 67.861L1.35252 98.1213ZM10.4543 68.3962L115.118 119.002L20.3924 50.6057L10.4543 68.3962ZM26.6911 42.1157L115.118 118.999L40.7424 27.5908L26.6911 42.1157ZM40.7424 27.5908L115.121 119.002L66.1659 10.8067L40.7424 27.5908ZM75.725 6.71366L115.118 118.999L94.9217 1.39812L75.725 6.71366ZM94.9217 1.39812L115.118 118.999L125.056 0L94.9217 1.39812ZM135.318 1.39474L115.121 118.999L154.511 6.71366L135.318 1.39474ZM154.511 6.71366L115.118 118.999L181.284 21.0798L154.511 6.71366ZM189.494 27.5908L115.118 118.999L203.545 42.1157L189.494 27.5908ZM203.545 42.1157L115.118 118.999L219.782 68.3928L203.545 42.1157ZM223.745 78.2776L115.118 118.999L228.887 98.1213L223.745 78.2776ZM228.887 98.1213L115.121 118.999L230.24 129.268L228.887 98.1213ZM228.887 139.879L115.118 119.002L223.742 159.723L228.887 139.879ZM223.742 159.723L115.118 118.999L209.847 187.395L223.742 159.723ZM203.548 195.881L115.118 118.999L189.494 210.406L203.548 195.881ZM189.494 210.406L115.118 118.999L164.074 227.19L189.494 210.406Z"}),(0,s.jsxs)("defs",{children:[(0,s.jsxs)("radialGradient",{id:"paint0_radial_422_227605",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(115.329 118.783) scale(100.022 103.394)",children:[(0,s.jsx)("stop",{stopColor:"#FC9114"}),(0,s.jsx)("stop",{offset:"0.46875",stopColor:"#694B39"}),(0,s.jsx)("stop",{offset:"0.734375",stopColor:"#322B42"}),(0,s.jsx)("stop",{offset:"1",stopColor:"transparent"})]}),(0,s.jsxs)("radialGradient",{id:"paint1_radial_422_227605",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(115.329 118.783) scale(100.022 103.394)",children:[(0,s.jsx)("stop",{stopColor:"#ec3f86"}),(0,s.jsx)("stop",{offset:"0.46875",stopColor:"#783953"}),(0,s.jsx)("stop",{offset:"0.734375",stopColor:"#322B42"}),(0,s.jsx)("stop",{offset:"1",stopColor:"transparent"})]}),(0,s.jsxs)("radialGradient",{id:"paint2_radial_422_227605",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(115.329 118.783) scale(100.022 103.394)",children:[(0,s.jsx)("stop",{stopColor:"#5720ea"}),(0,s.jsx)("stop",{offset:"0.46875",stopColor:"#4a328d"}),(0,s.jsx)("stop",{offset:"0.734375",stopColor:"#322B42"}),(0,s.jsx)("stop",{offset:"1",stopColor:"transparent"})]}),(0,s.jsxs)("radialGradient",{id:"paint3_radial_422_227605",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(115.329 118.783) scale(100.022 103.394)",children:[(0,s.jsx)("stop",{stopColor:"#9634da"}),(0,s.jsx)("stop",{offset:"0.46875",stopColor:"#5b3674"}),(0,s.jsx)("stop",{offset:"0.734375",stopColor:"#322B42"}),(0,s.jsx)("stop",{offset:"1",stopColor:"transparent"})]}),(0,s.jsxs)("radialGradient",{id:"paint4_radial_422_227605",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(115.329 118.783) scale(100.022 103.394)",children:[(0,s.jsx)("stop",{stopColor:"#4B51F5"}),(0,s.jsx)("stop",{offset:"0.46875",stopColor:"#284DCF"}),(0,s.jsx)("stop",{offset:"0.734375",stopColor:"#353B67"}),(0,s.jsx)("stop",{offset:"1",stopColor:"#252A4F"})]}),(0,s.jsxs)("radialGradient",{id:"paint5_radial_422_227605",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(115.329 118.783) scale(100.022 103.394)",children:[(0,s.jsx)("stop",{stopColor:"#54ADFF"}),(0,s.jsx)("stop",{offset:"0.46875",stopColor:"#3171AB"}),(0,s.jsx)("stop",{offset:"0.734375",stopColor:"#353B67"}),(0,s.jsx)("stop",{offset:"1",stopColor:"#252A4F"})]}),d&&m&&m[d]?(0,s.jsxs)("radialGradient",{id:d,cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(115.329 118.783) scale(100.022 103.394)",children:[(0,s.jsx)("stop",{stopColor:null!==(t=m[d][0])&&void 0!==t?t:""}),(0,s.jsx)("stop",{offset:"0.46875",stopColor:null!==(a=m[d][1])&&void 0!==a?a:""}),(0,s.jsx)("stop",{offset:"0.734375",stopColor:2 in m[d]?m[d][2]:c?"transparent":"#353B67"}),(0,s.jsx)("stop",{offset:"1",stopColor:c?"transparent":"#252A4F"})]}):null]})]})}):null}},56549:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return CupsPage}});var s=a(85893),o=a(67294),l=a(13021),n=a(65425),r=a(51281),i=a.n(r),u=a(2664),c=a(27031),m=a(1277),d=a(49089),p=a(94184),_=a.n(p),x=a(69316),f=a(83480),h=a(97787),y=a(62484),g=a(33900),j=a(86501),v=a(19870),C=a(8891),w=a.n(C);function CupsBet(e){let{className:t,user:a,...l}=e,n=(0,u.I0)(),[r,c]=(0,o.useState)("red"),[m,p]=(0,o.useState)(2),[C,L]=(0,o.useState)("10"),{fflags:I}=(0,u.v9)(e=>e.auth),onColorChange=e=>{c(e.currentTarget.value)},onCreationError=e=>j.Am.error(e);return(0,o.useEffect)(()=>{C>(null==a?void 0:a.wallet)+(null==a?void 0:a.bonusWallet)&&L(Math.floor((null==a?void 0:a.wallet)+(null==a?void 0:a.bonusWallet))),C<0&&L(10)},[C]),(0,o.useEffect)(()=>(g.ki.on("game-creation-error",onCreationError),()=>{g.ki.off("game-creation-error",onCreationError)}),[]),(0,s.jsxs)("div",{className:_()("gameBlock gameBet",i().cupsBet,t),...l,children:[(0,s.jsxs)("div",{className:_()("customInput","gameBetInput"),children:[(0,s.jsx)(x.Z,{element:"p",textType:"labelsRegular",className:_()("customInputLabel"),children:"Bet amount"}),(0,s.jsxs)("div",{className:_()("customInputInner"),children:[(0,s.jsx)(h.Z,{hasCurrencyIcon:!0,onChange:e=>L(e.currentTarget.value),value:C}),(0,s.jsxs)("div",{className:_()("customInputInnerButtons"),style:{display:"flex",alignItems:"center"},children:[(0,s.jsx)(f.Z,{variant:"inputButton",onClick:()=>L(Math.floor(C/2)),children:"1/2"}),(0,s.jsx)(f.Z,{variant:"inputButton",onClick:()=>L(Math.floor(2*C)),children:"2x"}),(0,s.jsx)(f.Z,{variant:"inputButton",onClick:()=>L(Math.floor(a.wallet+a.bonusWallet)),children:"Max"}),(0,s.jsx)(f.Z,{onClick:()=>n({type:v.hj,payload:"Cups"}),variant:"inputButton",style:{height:"26px"},children:(0,s.jsx)(y.Z,{style:{height:".8em"}})})]})]})]}),(0,s.jsxs)("div",{className:_()("customInput","gameBetInput"),children:[(0,s.jsx)(x.Z,{element:"p",textType:"labelsRegular",className:_()("customInputLabel"),children:"Bet on color"}),(0,s.jsxs)("div",{className:_()("customInputColorPicker"),children:[m>1&&(0,s.jsx)("label",{className:_()("customInputColorPickerItem"),style:{"--color":"#F03276"},children:(0,s.jsx)("input",{type:"radio",onChange:onColorChange,checked:"red"===r,value:"red",name:"colorPicker"})}),m>=2&&(0,s.jsx)("label",{className:_()("customInputColorPickerItem"),style:{"--color":"#3656FF"},children:(0,s.jsx)("input",{type:"radio",onChange:onColorChange,checked:"blue"===r,value:"blue",name:"colorPicker"})}),m>=3&&(0,s.jsx)("label",{className:_()("customInputColorPickerItem"),style:{"--color":"#AF3BD8"},children:(0,s.jsx)("input",{type:"radio",onChange:onColorChange,checked:"green"===r,value:"green",name:"colorPicker"})}),m>=4&&(0,s.jsx)("label",{className:_()("customInputColorPickerItem"),style:{"--color":"#FCB122"},children:(0,s.jsx)("input",{type:"radio",onChange:onColorChange,checked:"yellow"===r,value:"yellow",name:"colorPicker"})})]})]}),(0,s.jsxs)("div",{className:_()("customInput","gameBetInput"),children:[(0,s.jsx)(x.Z,{element:"p",textType:"labelsRegular",className:_()("customInputLabel"),children:"Amount of cups"}),(0,s.jsxs)("div",{className:_()("customInputOptions"),children:[(0,s.jsx)(f.Z,{variant:"betOption",isActive:2==m,onClick:()=>p(2),children:"2"}),(0,s.jsx)(f.Z,{variant:"betOption",isActive:3==m,onClick:()=>p(3),children:"3"}),(0,s.jsx)(f.Z,{variant:"betOption",isActive:4==m,onClick:()=>p(4),children:"4"})]})]}),(0,s.jsx)(f.Z,{variant:"primary",onClick:()=>{I.fe_ga_enabled&&d.ZP.event({category:"Cups game",action:"Created cups game",value:-1}),I.fe_mixpanel_enabled&&w().track("CREATED_CUPS_GAME"),g.ki.emit("create-new-game",{numberOfPlayers:m,color:r,betAmount:parseFloat(C),privateGame:!1,competitorCost:0})},className:_()("gameBetSubmit","mobileBottomMargin"),children:"Start new game"})]})}var L=a(73350),I=a(76743),Z=a(88078),b=a(27982),G=a(25545),A=a(66713),N=a(34558),P=a(64709),B=a(40975),R=a(10990);function getRandomInt(e,t,a){e=Math.ceil(e);let s=Math.floor(Math.random()*((t=Math.floor(t))-e+1))+e;do s=Math.floor(Math.random()*(t-e+1))+e;while(s===a);return s}let k=["red","blue","purple","yellow"];function CupsAnimation(e){let{selectedColor:t,cupsAmount:a=2,isAnimating:l=!1,onEnd:n}=e,[r,u]=(0,o.useState)([]),[c,m]=(0,o.useState)(!1),[d,p]=(0,o.useState)(10),x=(0,o.useRef)([]),f=(0,o.useRef)(null);return(0,o.useEffect)(()=>{u(k.slice(0,a<2?2:a)),m(!1),x.current.map(e=>{e&&R.ZP.set(e,{x:0})})},[a,t]),(0,o.useEffect)(()=>{if(!1===l||"unset"===t)return;if(0===d){m(!0),null==n||n();return}let e=f.current.offsetWidth,a=window.setTimeout(()=>{u(t=>{let a=[...t],s=a.length-1,o=getRandomInt(0,s),l=getRandomInt(0,s,o),n=a[o],r=a[l];a[l]=n,a[o]=r;let i=x.current[k.indexOf(n)],u=x.current[k.indexOf(r)],c=Math.abs(o-l)*(1/a.length)*e;c.toFixed(2),R.ZP.ticker.lagSmoothing(!1);let m=R.ZP.getProperty(i,"x"),d=R.ZP.getProperty(u,"x"),p=m+(o>l?-c:c),_=d+(l>o?-c:c);return R.ZP.to(i,{x:p,duration:.39}),R.ZP.to(u,{x:_,duration:.39}),a}),p(d-1)},400);return()=>{window.clearTimeout(a)}},[d,l,n]),(0,o.useLayoutEffect)(()=>{!1===l&&(m(!1),p(10))},[l]),(0,s.jsx)("div",{ref:f,className:i().cupsGameItemAnimation,children:k.map((e,a)=>{if(!(a>1)||!(r.length<a+1))return(0,s.jsx)("div",{ref:e=>x.current[a]=e,className:_()(i().cupsGameItemAnimationItem,i().HolidayEvent,i()[e],t===e&&c&&i().isOpened)},a)})})}var M=a(83253),S=a.n(M),T=a(53707),O=a.n(T),F=a(88208),E=a(71667),U=a.n(E),z=a(99103);function ModelCupWinner(e){let{className:t,winningCup:a,onClose:l,amount:n}=e,[r,i]=(0,o.useState)(!1),u=(0,o.useMemo)(()=>(0,F.P)("margin"),["margin"]);function closeModal(){i(!1),l&&l(),document.body.style.overflow="initial",document.body.style.paddingRight="0px"}return(0,o.useEffect)(()=>(i(!0),setTimeout(()=>{document.body.style.overflow="hidden",document.body.style.paddingRight=u.gap+"px"},0),()=>{closeModal()}),[]),(0,s.jsxs)(S(),{isOpen:r,onRequestClose:closeModal,contentLabel:"Withdraw modal",className:_()(U().defaultModal,O().modalWinnerCups,t),closeTimeoutMS:200,children:[(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)(b.Z,{element:"h3",className:_()(U().modalCasesAmountTitle,O().titleBox),children:"You Won!"}),(0,s.jsx)(f.Z,{onClick:closeModal,className:U().defaultModalClose,"aria-label":"Close"}),(0,s.jsx)("br",{}),(0,s.jsx)("p",{children:"Congratulations for winning."}),(0,s.jsx)("p",{children:"The won value has been credited to your balance!"}),(0,s.jsxs)("div",{className:O().animationSection,children:[(0,s.jsx)(z.Z,{color:null!=a?a:""}),(0,s.jsxs)("div",{className:O().cupSection,children:[(0,s.jsx)("div",{className:_()(O().cup,O()["".concat(a,"One")])}),(0,s.jsx)("div",{className:O().cupSectionBall})]})]}),(0,s.jsxs)("div",{className:O().amountCollected,children:[(0,s.jsx)(x.Z,{element:"span",className:O().amountText,textType:"regular14",children:n}),(0,s.jsx)(A.Z,{})]})]})}function CupsGameItem(e){let{className:t,user:a,...l}=e,[n,r]=(0,o.useState)(null),[c,m]=(0,o.useState)(null),[p,h]=(0,o.useState)([]),{fflags:y}=(0,u.v9)(e=>e.auth),[C,R]=(0,o.useState)(!1),k=(0,u.I0)(),joinGame=(e,t)=>{y.fe_ga_enabled&&d.ZP.event({category:"Cups game",action:"Joined cups game",value:-1}),y.fe_mixpanel_enabled&&w().track("JOINED_CUPS_GAME"),g.ki.emit("join-game",{gameId:e,color:t})},eosCommitted=e=>{let{_id:t,blockNumber:a}=e;h(e=>null==e?void 0:e.map(e=>e._id===t?{...e,committedEosBlock:a}:e))},gameJoined=e=>{let{_id:t,newPlayer:a}=e;h(e=>null==e?void 0:e.map(e=>e._id===t?{...e,players:[...e.players,a]}:e))},addGame=e=>{h(t=>t?[e,...t]:[])};(0,o.useEffect)(()=>{h(e=>{let t=[];return e.forEach(e=>{e._creator===(null==a?void 0:a.robloxId)&&t.push(e)}),e.forEach(e=>{e._creator!==(null==a?void 0:a.robloxId)&&t.push(e)}),t})},[null==p?void 0:p.length]),(0,o.useEffect)(()=>{a&&r(a)},[a]);let gameRolled=e=>{h(t=>null==t?void 0:t.map(t=>t._id===e._id?{...t,...e,status:3}:t)),setTimeout(()=>{h(t=>null==t?void 0:t.map(t=>t._id===e._id?(r(e=>{if(e&&t.players.length){for(let a of t.players)if(a._id===e.robloxId&&a.color===t.winningCup){m({amount:(0,B.Z)((0,P.Z)(t.betAmount*t.players.length)),color:t.winningCup});break}}return e}),{...t,...e,ended:!0}):t)),setTimeout(()=>{h(t=>null==t?void 0:t.filter(t=>t._id!==e._id))},2e3)},5e3)};return(0,o.useEffect)(()=>(g.ki.on("new-cups-game",addGame),g.ki.on("game-rolled",gameRolled),g.ki.on("game-joined",gameJoined),g.ki.on("eos-commit",eosCommitted),()=>{g.ki.off("new-cups-game",addGame),g.ki.off("game-rolled",gameRolled),g.ki.off("game-joined",gameJoined),g.ki.off("eos-commit",eosCommitted)}),[]),(0,o.useEffect)(()=>{let fetchData=async()=>{try{R(!0);let e=await (0,N.ze)();R(!1),h(e)}catch(e){j.Am.error("Failed to load active cups games, please refresh the page and try again!")}};fetchData()},[]),(0,s.jsx)(s.Fragment,{children:C?[,,].fill(0).map((e,t)=>(0,s.jsx)(Z.Z,{style:{marginBottom:"1rem",borderRadius:"12px"},variant:"rectangular",width:"100%",height:220},t)):(0,s.jsxs)(s.Fragment,{children:[c&&(0,s.jsx)(ModelCupWinner,{onClose:()=>m(null),winningCup:c.color,amount:c.amount}),(0,s.jsx)(L.Z,{className:"cups-list",children:null==p?void 0:p.map(e=>{var a,o,n,r,u,c,m,d,p,h;return(0,s.jsx)(I.Z,{timeout:500,classNames:"item",children:(0,s.jsxs)("div",{className:_()(i().cupsGameItem,t),style:e.ended?{opacity:.4,transition:"all 0.3s ease",position:"relative"}:{position:"relative"},...l,children:[(0,s.jsx)(f.Z,{onClick:()=>k({type:v.LE,payload:{...e,gameName:"cups"}}),variant:"betOption",style:{position:"absolute",top:"1em",right:"1.5em",zIndex:"99"},children:"Fairness"}),(0,s.jsxs)("div",{className:i().cupsGameItemPlayers,children:[e.players.find(e=>"red"===e.color)?(0,s.jsxs)("div",{className:i().cupsGameItemPlayersRow,style:{"--row-color":"#F03276"},children:[(0,s.jsx)(G.Z,{className:i().cupsGameItemPlayersRowAvatar,userId:null===(a=e.players.find(e=>"red"===e.color))||void 0===a?void 0:a._id,isPrivateMode:(null===(o=e.players.find(e=>"red"===e.color))||void 0===o?void 0:o.username.toLowerCase())==="anonymous",imageAlt:"User avatar",boxSize:"medium"}),(0,s.jsx)(x.Z,{className:i().cupsGameItemPlayersRowText,element:"p",textType:"regular14",children:null===(n=e.players.find(e=>"red"===e.color))||void 0===n?void 0:n.username})]}):(0,s.jsxs)("div",{className:i().cupsGameItemPlayersRow,style:{"--row-color":"#F03276"},children:[(0,s.jsx)(G.Z,{className:i().cupsGameItemPlayersRowAvatar,userId:1,imageAlt:"User avatar",boxSize:"medium"}),(0,s.jsxs)(f.Z,{variant:"primary",className:i().cupsGameItemPlayersRowButton,onClick:()=>{joinGame(e._id,"red")},children:["Join for"," ",(0,B.Z)((0,P.Z)(e.betAmount)),(0,s.jsx)(A.Z,{})]})]}),e.players.find(e=>"blue"===e.color)?(0,s.jsxs)("div",{className:i().cupsGameItemPlayersRow,style:{"--row-color":"#3656FF"},children:[(0,s.jsx)(G.Z,{className:i().cupsGameItemPlayersRowAvatar,userId:null===(r=e.players.find(e=>"blue"===e.color))||void 0===r?void 0:r._id,isPrivateMode:(null===(u=e.players.find(e=>"blue"===e.color))||void 0===u?void 0:u.username.toLowerCase())==="anonymous",imageAlt:"User avatar",boxSize:"medium"}),(0,s.jsx)(x.Z,{className:i().cupsGameItemPlayersRowText,element:"p",textType:"regular14",children:null===(c=e.players.find(e=>"blue"===e.color))||void 0===c?void 0:c.username})]}):(0,s.jsxs)("div",{className:i().cupsGameItemPlayersRow,style:{"--row-color":"#3656FF"},children:[(0,s.jsx)(G.Z,{className:i().cupsGameItemPlayersRowAvatar,userId:1,imageAlt:"User avatar",boxSize:"medium"}),(0,s.jsxs)(f.Z,{variant:"primary",className:i().cupsGameItemPlayersRowButton,onClick:()=>{joinGame(e._id,"blue")},children:["Join for"," ",(0,B.Z)((0,P.Z)(e.betAmount)),(0,s.jsx)(A.Z,{})]})]}),2===e.playerAmount?void 0:e.players.find(e=>"green"===e.color)?(0,s.jsxs)("div",{className:i().cupsGameItemPlayersRow,style:{"--row-color":"#AF3BD8"},children:[(0,s.jsx)(G.Z,{className:i().cupsGameItemPlayersRowAvatar,userId:null===(m=e.players.find(e=>"green"===e.color))||void 0===m?void 0:m._id,imageAlt:"User avatar",boxSize:"medium"}),(0,s.jsx)(x.Z,{className:i().cupsGameItemPlayersRowText,element:"p",textType:"regular14",children:null===(d=e.players.find(e=>"green"===e.color))||void 0===d?void 0:d.username})]}):(0,s.jsxs)("div",{className:i().cupsGameItemPlayersRow,style:{"--row-color":"#AF3BD8"},children:[(0,s.jsx)(G.Z,{className:i().cupsGameItemPlayersRowAvatar,userId:1,imageAlt:"User avatar",boxSize:"medium"}),(0,s.jsxs)(f.Z,{variant:"primary",className:i().cupsGameItemPlayersRowButton,onClick:()=>{joinGame(e._id,"green")},children:["Join for"," ",(0,B.Z)((0,P.Z)(e.betAmount)),(0,s.jsx)(A.Z,{})]})]}),4!==e.playerAmount?void 0:e.players.find(e=>"yellow"===e.color)?(0,s.jsxs)("div",{className:i().cupsGameItemPlayersRow,style:{"--row-color":"#FCB122"},children:[(0,s.jsx)(G.Z,{className:i().cupsGameItemPlayersRowAvatar,userId:null===(p=e.players.find(e=>"yellow"===e.color))||void 0===p?void 0:p._id,imageAlt:"User avatar",boxSize:"medium"}),(0,s.jsx)(x.Z,{className:i().cupsGameItemPlayersRowText,element:"p",textType:"regular14",children:null===(h=e.players.find(e=>"yellow"===e.color))||void 0===h?void 0:h.username})]}):(0,s.jsxs)("div",{className:i().cupsGameItemPlayersRow,style:{"--row-color":"#FCB122"},children:[(0,s.jsx)(G.Z,{className:i().cupsGameItemPlayersRowAvatar,userId:1,imageAlt:"User avatar",boxSize:"medium"}),(0,s.jsxs)(f.Z,{variant:"primary",className:i().cupsGameItemPlayersRowButton,onClick:()=>{joinGame(e._id,"yellow")},children:["Join for"," ",(0,B.Z)((0,P.Z)(e.betAmount)),(0,s.jsx)(A.Z,{})]})]})]}),(0,s.jsxs)("div",{className:i().cupsGameItemMain,children:[(0,s.jsxs)("div",{className:i().cupsGameItemAmount,children:[(0,s.jsx)(b.Z,{element:"h2",children:(0,B.Z)((0,P.Z)(e.betAmount*e.playerAmount))}),(0,s.jsx)(A.Z,{})]}),(0,s.jsx)(x.Z,{textType:"regular14",element:"p",style:{color:"#5f6892",marginTop:"-4.5rem",marginBottom:"1.2rem"},children:e.status<3&&e.committedEosBlock>0&&"Waiting for EOS block #".concat(e.committedEosBlock)}),(0,s.jsx)(CupsAnimation,{cupsAmount:e.playerAmount,selectedColor:e.winningCup,isAnimating:3==e.status})]})]})},e._id)})})]})})}function CupsGame(e){let{className:t,user:a,...o}=e;return(0,s.jsx)("div",{className:_()(i().cupsGame,t),...o,children:(0,s.jsx)(CupsGameItem,{user:a})})}var W=(0,u.$j)(e=>({user:e.auth.user,isAuthenticated:e.auth.isAuthenticated}))(e=>{let{user:t,...a}=e,o=(0,m.Z)();return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(c.Z,{...a,children:[(0,s.jsx)(c.Z.Column,{type:"anotherLeft",children:(0,s.jsx)(n.Z,{className:i().cupsSticky,offsetTop:o.width>1170?96:72,offsetBottom:24,children:(0,s.jsx)(CupsBet,{user:t})})}),(0,s.jsx)(c.Z.Column,{type:"anotherRight",children:(0,s.jsx)(CupsGame,{user:t})})]})})});function CupsPage(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(W,{})})}CupsPage.getLayout=function(e){return(0,s.jsx)(l.Z,{children:e})}},76633:function(e){e.exports={gameLayout:"game-layout_gameLayout__bgIOR",gameLayoutColumnRow:"game-layout_gameLayoutColumnRow__0wXiL",gameLayoutColumn:"game-layout_gameLayoutColumn__q01vS",gameLayoutColumnLeft:"game-layout_gameLayoutColumnLeft__55fuZ",gameLayoutColumnRight:"game-layout_gameLayoutColumnRight__oj_7g",gameLayoutColumnAnotherLeft:"game-layout_gameLayoutColumnAnotherLeft__uOx3g",gameLayoutColumnAnotherRight:"game-layout_gameLayoutColumnAnotherRight__j_wQx"}},53707:function(e){e.exports={flash:"cups_flash__y0THj",pulse:"cups_pulse__K_1co",modalWinnerCups:"cups_modalWinnerCups__QnY_q",animationSection:"cups_animationSection___Cy1b",cupSection:"cups_cupSection__9YxLX",cup:"cups_cup__E0YvB",cupOut:"cups_cupOut__Z5doS",redOne:"cups_redOne__dVZ6Q",blueOne:"cups_blueOne___D3_S",purpleOne:"cups_purpleOne__nvY3u",yellowOne:"cups_yellowOne__T6t55",cupSectionBall:"cups_cupSectionBall__LK79W",amountCollected:"cups_amountCollected___FU6U",amountText:"cups_amountText__FiX1D",bottomTop:"cups_bottomTop__pLwfH",flipCard:"cups_flipCard__zsf2M",bottomTopFlip:"cups_bottomTopFlip__YljBu",fade:"cups_fade__7hNJc",rotate:"cups_rotate__IK0lt"}},53074:function(e){e.exports={flash:"shadow_flash__GKwww",pulse:"shadow_pulse__2dDqa",circleHoverAnimation:"shadow_circleHoverAnimation__qIlHq",rotate:"shadow_rotate__7aDXd",noAnimation:"shadow_noAnimation__Htvta",bottomTop:"shadow_bottomTop__ICWYf",flipCard:"shadow_flipCard__Jv2HY",bottomTopFlip:"shadow_bottomTopFlip__BbNfC",fade:"shadow_fade__PP23d",cupOut:"shadow_cupOut__xv1za"}},51281:function(e){e.exports={cupsGameItem:"cups_cupsGameItem___wVx6",cupsGameItemPlayers:"cups_cupsGameItemPlayers__FtuBq",cupsGameItemPlayersRow:"cups_cupsGameItemPlayersRow__5Vj2O",cupsGameItemPlayersRowAvatar:"cups_cupsGameItemPlayersRowAvatar__ck6j8",cupsGameItemPlayersRowButton:"cups_cupsGameItemPlayersRowButton___GG_8",cupsGameItemPlayersRowText:"cups_cupsGameItemPlayersRowText__Ab0Ph",cupsGameItemMain:"cups_cupsGameItemMain__lG3gj",cupsGameItemAmount:"cups_cupsGameItemAmount__uhOaK",cupsGameItemAnimation:"cups_cupsGameItemAnimation__IAB5s",cupsGameItemAnimationItem:"cups_cupsGameItemAnimationItem__Je3Cy",red:"cups_red__LsJkq",blue:"cups_blue__XX6rh",purple:"cups_purple___ctV2",yellow:"cups_yellow__P3lPf",isOpened:"cups_isOpened__vki7v",cupsBet:"cups_cupsBet__ulyxs",cupsSticky:"cups_cupsSticky__oRohL"}}},function(e){e.O(0,[4885,8802,2252,990,2530,6107,9774,2888,179],function(){return e(e.s=1490)}),_N_E=e.O()}]);