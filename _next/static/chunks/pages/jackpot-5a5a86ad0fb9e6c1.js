(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2304],{62484:function(e,a,t){"use strict";var n,s=t(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}a.Z=function(e){return s.createElement("svg",_extends({fill:"#8690bf",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 318.293 318.293",style:{enableBackground:"new 0 0 318.293 318.293"},xmlSpace:"preserve"},e),n||(n=s.createElement("path",{d:"M159.148 0c-52.696 0-95.544 39.326-95.544 87.662h47.736c0-22.007 21.438-39.927 47.808-39.927 26.367 0 47.804 17.92 47.804 39.927v6.929c0 23.39-10.292 34.31-25.915 50.813-20.371 21.531-45.744 48.365-45.744 105.899h47.745c0-38.524 15.144-54.568 32.692-73.12 17.368-18.347 38.96-41.192 38.96-83.592v-6.929C254.689 39.326 211.845 0 159.148 0zM134.475 277.996h49.968v40.297h-49.968z"})))}},96200:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/jackpot",function(){return t(67253)}])},27031:function(e,a,t){"use strict";t.d(a,{Z:function(){return GameLayout}});var n=t(85893),s=t(76633),l=t.n(s),r=t(94184),o=t.n(r),c=t(1277);let u={left:l().gameLayoutColumnLeft,right:l().gameLayoutColumnRight,row:l().gameLayoutColumnRow,anotherLeft:l().gameLayoutColumnAnotherLeft,anotherRight:l().gameLayoutColumnAnotherRight};function GameLayout(e){let{className:a,children:t,...s}=e;return(0,n.jsx)("div",{className:l().gameLayout,...s,children:t})}GameLayout.Column=function(e){let{type:a,className:t,children:s,customMobileOrder:r="initial",...i}=e,m=(0,c.Z)();return(0,n.jsx)("div",{className:o()(l().gameLayoutColumn,u[a],t),style:{order:m.width<993?r:"initial"},...i,children:s})}},93403:function(e,a,t){"use strict";var n=t(67294);a.Z=e=>{let[a,t]=(0,n.useState)(e),s=(0,n.useCallback)(a=>{a.target.value===e&&t("")},[e]),l=(0,n.useCallback)(a=>{""===a.target.value&&t(e)},[e]);return[a,t,s,l]}},67253:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return JackpotPage}});var n=t(85893),s=t(67294),l=t(13021),r=t(5152),o=t.n(r),c=t(2664),u=t(94184),i=t.n(u),m=t(27982),d=t(69316),p=t(25545),g=t(83480),h=t(54995),j=t.n(h),y=t(66713),x=t(40975),v=t(64709);function JackpotPlayers(e){var a,t,l,r,o;let{className:c,game:u,...h}=e,[f,b]=(0,s.useState)(!1);return(0,n.jsx)("div",{className:i()("gameBlock gamePlayers gamePlayersScrollable",j().jackpotPlayers,c),...h,children:(0,n.jsxs)("div",{className:i()("gamePlayersScroller"),children:[(0,n.jsxs)("table",{className:i()("gamePlayersTable",!f&&"gamePlayersTableHidden"),children:[(0,n.jsx)("thead",{className:i()("gamePlayersTableHead"),children:(0,n.jsxs)("tr",{className:i()("gamePlayersTableRow"),children:[(0,n.jsx)("td",{className:i()("gamePlayersTableItem"),children:(0,n.jsxs)(m.Z,{element:"h3",children:[(null==u?void 0:null===(a=u.current)||void 0===a?void 0:a.players)&&u.current.players.length," Player",(null==u?void 0:null===(t=u.current)||void 0===t?void 0:t.players)&&u.current.players.length>1?"s":""]})}),(0,n.jsx)("td",{className:i()("gamePlayersTableItem")}),(0,n.jsx)("td",{className:i()("gamePlayersTableItem"),children:(0,n.jsxs)(d.Z,{element:"p",textType:"regular14",children:[(null==u?void 0:null===(l=u.current)||void 0===l?void 0:l.players)&&(0,x.Z)((0,v.Z)(null==u?void 0:null===(r=u.current)||void 0===r?void 0:r.players.map(e=>e.betAmount).reduce((e,a)=>e+a,0)))," ",(0,n.jsx)(y.Z,{})]})})]})}),(0,n.jsx)("tbody",{className:i()("gamePlayersTableBody"),children:(null==u?void 0:null===(o=u.current)||void 0===o?void 0:o.players)&&u.current.players.sort((e,a)=>a.betAmount-e.betAmount).map((e,a)=>(0,n.jsxs)("tr",{className:i()("gamePlayersTableRow"),children:[(0,n.jsx)("td",{className:i()("gamePlayersTableItem gamePlayersTableUser"),children:(0,n.jsxs)(d.Z,{element:"p",style:{width:"13em"},textType:"regular14",children:[(0,n.jsx)(p.Z,{isPrivateMode:"anonymous"===e.username.toLowerCase(),className:i()("gamePlayersTableItemAvatar"),userId:e._id,imageAlt:"User avatar",boxSize:"medium"})," ",(0,n.jsx)("span",{children:e.username})]})}),(0,n.jsx)("td",{className:i()("gamePlayersTableItem gamePlayersTableItemCoeff"),children:(0,n.jsxs)(d.Z,{element:"p",textType:"semibold14",children:[e.winningPercentage.toFixed(2),"%"]})}),(0,n.jsx)("td",{className:i()("gamePlayersTableItem gamePlayersTableItemAmount"),children:(0,n.jsx)(d.Z,{element:"p",textType:"semibold14",children:e.betAmount&&(0,n.jsxs)(n.Fragment,{children:[(0,x.Z)((0,v.Z)(e.betAmount)),(0,n.jsx)(y.Z,{})]})})})]},a))})]}),(0,n.jsx)(g.Z,{onClick:()=>b(!f),variant:"secondary",className:i()("gamePlayersExpand"),children:f?"Show Less":"Show more"})]})})}var f=t(86501),b=t(49089),_=t(97787),k=t(33900),I=t(19870),C=t(62484),N=t(8891),Z=t.n(N),P=t(93403);function JackpotBet(e){let{className:a,user:t,game:l,gameWinner:r,...o}=e,[u,m]=(0,s.useState)(!1),[p,h]=(0,s.useState)(!1),y=(0,c.I0)(),{fflags:x}=(0,c.v9)(e=>e.auth),[v,N]=(0,s.useState)(!1),[L,T]=(0,s.useState)(!1),[B,S]=(0,s.useState)(!1),[w,G]=(0,s.useState)("increase"),[F,A]=(0,s.useState)("increase"),[J,R]=(0,s.useState)(0),[E,M]=(0,s.useState)("10"),[O,W,U,D]=(0,P.Z)("10"),[K,Y,$,X]=(0,P.Z)("0"),[z,H,q,Q]=(0,P.Z)("0"),[V,ee,ea,et]=(0,P.Z)("0"),[en,es,el,er]=(0,P.Z)("0"),[eo,ec,eu,ei]=(0,P.Z)("0"),[em,ed,ep,eg]=(0,P.Z)("0"),onJoinGame=()=>{if(x.fe_ga_enabled){var e;b.ZP.event({category:"Jackpot game",action:"Joined jackpot game",value:null!==(e=parseFloat(O))&&void 0!==e?e:0})}x.fe_mixpanel_enabled&&Z().track("JOINED_JACKPOT_GAME"),k.hY.emit("join-game",{betAmount:"number"==typeof O?O:parseFloat(O)}),parseInt(eo)>0&&ec((parseInt(eo)-1).toString()),1===parseInt(eo)&&h(!1)};return(0,s.useEffect)(()=>{O>(null==t?void 0:t.wallet)+(null==t?void 0:t.bonusWallet)&&W(Math.floor((null==t?void 0:t.wallet)+(null==t?void 0:t.bonusWallet)).toString()),0>parseFloat(O)&&W("10")},[O]),(0,s.useEffect)(()=>{if(l&&t){let e=!!l.players.find(e=>{let{username:a}=e;return t.robloxUsername===a});m(e)}},[null==l?void 0:l.players,t]),(0,s.useEffect)(()=>{if(p&&!u){let e=t.wallet+(null==t?void 0:t.bonusWallet)-J,a=parseFloat(en)>0&&e>=parseFloat(en),n=parseFloat(V)>0&&e<=-parseFloat(V);a||n?(h(!1),ed("0")):onJoinGame()}},[p,u]),(0,s.useEffect)(()=>{let onJoinSuccess=()=>f.Am.success("Successfully joined the game!"),onJoinError=e=>f.Am.error(e);return k.hY.on("game-join-success",onJoinSuccess),k.hY.on("game-join-error",onJoinError),()=>{k.hY.off("game-join-success",onJoinSuccess),k.hY.off("game-join-error",onJoinError)}},[]),(0,s.useEffect)(()=>{if(p&&u){let e=t.wallet+(null==t?void 0:t.bonusWallet)-J;(null==l?void 0:l.status)===3&&r&&(e>0&&r._id===t.robloxId&&(parseFloat(z)>0?W(e=>(Math.floor(parseFloat(e)*(1+parseFloat(z)/100)*100)/100).toString()):W(E)),e<0&&r._id!==t.robloxId&&(parseFloat(K)>0?W(e=>(Math.floor(parseFloat(e)*(1+parseFloat(K)/100)*100)/100).toString()):W(E)))}},[eo,en,V,u,null==l?void 0:l.status]),(0,n.jsxs)("div",{className:i()("gameBlock gameBet",j().jackpotBet,a),...o,children:[(0,n.jsxs)("div",{className:i()("gameBetTabs"),style:{display:"flex",justifyContent:"space-between"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(g.Z,{variant:"tab",onClick:()=>N(!1),isActive:!v,children:"Manual"}),(0,n.jsx)(g.Z,{variant:"tab",onClick:()=>N(!0),isActive:v,children:"Auto"})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"1em",height:"80%"},children:[(0,n.jsx)(g.Z,{onClick:()=>y({type:I.hj,payload:"Jackpot"}),variant:"betOption",children:(0,n.jsx)(C.Z,{style:{height:".75em"}})}),(0,n.jsx)(g.Z,{onClick:()=>y({type:I.LE,payload:{...l,gameName:"jackpot"}}),variant:"betOption",children:"Fairness"})]})]}),(0,n.jsxs)("div",{className:i()("customInput","gameBetInput"),children:[(0,n.jsx)(d.Z,{element:"p",textType:"labelsRegular",className:i()("customInputLabel"),children:"Bet amount"}),(0,n.jsxs)("div",{className:i()("customInputInner"),children:[(0,n.jsx)(_.Z,{hasCurrencyIcon:!0,type:"number",onChange:e=>W(e.target.value),value:O,onFocus:U,onBlur:D}),(0,n.jsxs)("div",{className:i()("customInputInnerButtons"),children:[(0,n.jsx)(g.Z,{variant:"inputButton",onClick:()=>W(Math.floor(parseFloat(O)/2).toString()),children:"1/2"}),(0,n.jsx)(g.Z,{variant:"inputButton",onClick:()=>W(Math.floor(2*parseFloat(O)).toString()),children:"2x"}),(0,n.jsx)(g.Z,{variant:"inputButton",onClick:()=>W(Math.floor(t.wallet+(null==t?void 0:t.bonusWallet)).toString()),children:"Max"})]})]})]}),v&&(0,n.jsxs)("div",{className:i()("customInput","gameBetInput"),children:[(0,n.jsx)(d.Z,{element:"p",textType:"labelsRegular",className:i()("customInputLabel"),children:"Number of Games"}),(0,n.jsx)("div",{className:i()("customInputInner"),children:(0,n.jsx)(_.Z,{pattern:"^-?[0-9]\\d*(\\.\\d+)?$",onKeyPress:e=>{/[0-9.]/.test(e.key)||e.preventDefault()},hasCurrencyIcon:!0,currencyIconUrl:"/icons/infinity.svg",onChange:e=>{ec(e.currentTarget.value),ed(e.currentTarget.value)},value:em,iconPosition:"end",onFocus:ep,onBlur:eg,placeholder:"0"})})]}),v&&(0,n.jsxs)("div",{className:i()("customInput","gameBetInput"),children:[(0,n.jsx)(d.Z,{element:"p",textType:"labelsRegular",className:i()("customInputLabel"),children:"On Win"}),(0,n.jsxs)("div",{className:i()("customInputInner"),children:[(0,n.jsxs)("div",{className:i()("customInputInnerButtonsLeft"),children:[(0,n.jsx)(g.Z,{variant:"autoReset",onClick:()=>{G("reset"),H("0"),S(!0)},className:i()({clicked:"reset"===w,unclicked:"increase"===w}),children:"Reset"}),(0,n.jsx)(g.Z,{variant:"autoIncrease",onClick:()=>{G("increase"),S(!1)},className:i()("customInputInnerButtonsLeftIncrease",{clicked:"increase"===w,unclicked:"reset"===w}),children:"Increase By"})]}),(0,n.jsx)(_.Z,{pattern:"^-?[0-9]\\d*(\\.\\d+)?$",onKeyPress:e=>{/[0-9.]/.test(e.key)||e.preventDefault()},hasCurrencyIcon:!0,currencyIconUrl:"/icons/percentage.svg",onChange:e=>H(e.currentTarget.value),value:z,iconPosition:"end",className:j().leftInput,onFocus:q,onBlur:Q,disabled:B})]})]}),v&&(0,n.jsxs)("div",{className:i()("customInput","gameBetInput"),children:[(0,n.jsx)(d.Z,{element:"p",textType:"labelsRegular",className:i()("customInputLabel"),children:"On Loss"}),(0,n.jsxs)("div",{className:i()("customInputInner"),children:[(0,n.jsxs)("div",{className:i()("customInputInnerButtonsLeft"),children:[(0,n.jsx)(g.Z,{variant:"autoReset",onClick:()=>{A("reset"),Y("0"),T(!0)},className:i()({clicked:"reset"===F,unclicked:"increase"===F}),children:"Reset"}),(0,n.jsx)(g.Z,{variant:"autoIncrease",onClick:()=>{A("increase"),T(!1)},className:i()("customInputInnerButtonsLeftIncrease",{clicked:"increase"===F,unclicked:"reset"===F}),children:"Increase By"})]}),(0,n.jsx)(_.Z,{pattern:"^-?[0-9]\\d*(\\.\\d+)?$",onKeyPress:e=>{/[0-9.]/.test(e.key)||e.preventDefault()},hasCurrencyIcon:!0,currencyIconUrl:"/icons/percentage.svg",onChange:e=>Y(e.currentTarget.value),value:K,iconPosition:"end",className:j().leftInput,onFocus:$,onBlur:X,disabled:L})]})]}),v&&(0,n.jsxs)("div",{className:j().inputWrapper,children:[(0,n.jsxs)("div",{className:i()("customInput","gameBetInput"),children:[(0,n.jsx)(d.Z,{element:"p",textType:"labelsRegular",className:i()("customInputLabel"),children:"Stop on Net Gain"}),(0,n.jsx)("div",{className:i()("customInputInner"),children:(0,n.jsx)(_.Z,{pattern:"^-?[0-9]\\d*(\\.\\d+)?$",onKeyPress:e=>{/[0-9.]/.test(e.key)||e.preventDefault()},hasCurrencyIcon:!0,onChange:e=>es(e.currentTarget.value),value:en,iconPosition:"end",onFocus:el,onBlur:er})})]}),(0,n.jsxs)("div",{className:i()("customInput","gameBetInput"),children:[(0,n.jsx)(d.Z,{element:"p",textType:"labelsRegular",className:i()("customInputLabel"),children:"Stop on Net Loss"}),(0,n.jsx)("div",{className:i()("customInputInner"),children:(0,n.jsx)(_.Z,{pattern:"^-?[0-9]\\d*(\\.\\d+)?$",onKeyPress:e=>{/[0-9.]/.test(e.key)||e.preventDefault()},hasCurrencyIcon:!0,onChange:e=>ee(e.currentTarget.value),value:V,iconPosition:"end",onFocus:ea,onBlur:et})})]})]}),v?(0,n.jsx)(n.Fragment,{children:p?(0,n.jsx)(g.Z,{variant:"danger",onClick:()=>{h(!1),ed("0")},className:i()("gameBetSubmit","mobileBottomMargin"),children:"Cancel auto"}):(0,n.jsx)(g.Z,{variant:"primary",onClick:()=>{if(10>parseFloat(O)){f.Am.error("Your bet must be a minimum of 10 and a maximum of 10,000 robux!");return}R((null==t?void 0:t.wallet)+(null==t?void 0:t.bonusWallet)),M(parseFloat(O)),h(!0)},className:i()("gameBetSubmit","mobileBottomMargin"),children:"Start Autoplay"})}):(0,n.jsx)(g.Z,{variant:"primary",onClick:onJoinGame,className:i()("gameBetSubmit","mobileBottomMargin"),children:"Join game"})]})}var L=t(27031);let T=o()(()=>Promise.all([t.e(8802),t.e(990),t.e(7210),t.e(6643)]).then(t.bind(t,26643)),{loadableGenerated:{webpack:()=>[26643]},ssr:!1});var B=(0,c.$j)(e=>({user:e.auth.user,isAuthenticated:e.auth.isAuthenticated}))(e=>{let{user:a,isAuthenticated:t,...l}=e,[r,o]=(0,s.useState)([]),[c,u]=(0,s.useState)(),[i,m]=(0,s.useState)(null);return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(L.Z,{...l,children:[(0,n.jsxs)(L.Z.Column,{type:"left",children:[(0,n.jsx)(JackpotBet,{game:null==c?void 0:c.current,user:a,gameWinner:i}),(0,n.jsx)(JackpotPlayers,{game:c})]}),(0,n.jsx)(L.Z.Column,{customMobileOrder:"-1",type:"right",children:(0,n.jsx)(T,{data:r,setData:o,game:c,setGame:u,user:a,isAuthenticated:t,setGameWinner:m})})]})})});function JackpotPage(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(B,{})})}JackpotPage.getLayout=function(e){return(0,n.jsx)(l.Z,{children:e})}},76633:function(e){e.exports={gameLayout:"game-layout_gameLayout__bgIOR",gameLayoutColumnRow:"game-layout_gameLayoutColumnRow__0wXiL",gameLayoutColumn:"game-layout_gameLayoutColumn__q01vS",gameLayoutColumnLeft:"game-layout_gameLayoutColumnLeft__55fuZ",gameLayoutColumnRight:"game-layout_gameLayoutColumnRight__oj_7g",gameLayoutColumnAnotherLeft:"game-layout_gameLayoutColumnAnotherLeft__uOx3g",gameLayoutColumnAnotherRight:"game-layout_gameLayoutColumnAnotherRight__j_wQx"}},54995:function(e){e.exports={jackpotBet:"jackpot_jackpotBet__XKFtv",jackpotPlayers:"jackpot_jackpotPlayers__EBm_O",jackpotGame:"jackpot_jackpotGame__Weio1",jackpotGameInner:"jackpot_jackpotGameInner__wEaud",jackpotGamePointer:"jackpot_jackpotGamePointer__SatgP",jackpotGameChart:"jackpot_jackpotGameChart__LbNbn",jackpotGameWaitingMsg:"jackpot_jackpotGameWaitingMsg__xPbOJ",jackpotGameText:"jackpot_jackpotGameText__Yp_gl",jackpotGameWinner:"jackpot_jackpotGameWinner__U_X2G",jackpotGameTextTimer:"jackpot_jackpotGameTextTimer__PSddz",jackpotGameTextCoeff:"jackpot_jackpotGameTextCoeff__1iO6V",leftInput:"jackpot_leftInput__S2piB",inputWrapper:"jackpot_inputWrapper__Ugv99"}}},function(e){e.O(0,[4885,2252,6107,9774,2888,179],function(){return e(e.s=96200)}),_N_E=e.O()}]);