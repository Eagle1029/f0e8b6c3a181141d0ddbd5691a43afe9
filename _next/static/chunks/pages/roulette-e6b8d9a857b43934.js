(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6274],{62484:function(e,t,l){"use strict";var a,r=l(67294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}t.Z=function(e){return r.createElement("svg",_extends({fill:"#8690bf",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 318.293 318.293",style:{enableBackground:"new 0 0 318.293 318.293"},xmlSpace:"preserve"},e),a||(a=r.createElement("path",{d:"M159.148 0c-52.696 0-95.544 39.326-95.544 87.662h47.736c0-22.007 21.438-39.927 47.808-39.927 26.367 0 47.804 17.92 47.804 39.927v6.929c0 23.39-10.292 34.31-25.915 50.813-20.371 21.531-45.744 48.365-45.744 105.899h47.745c0-38.524 15.144-54.568 32.692-73.12 17.368-18.347 38.96-41.192 38.96-83.592v-6.929C254.689 39.326 211.845 0 159.148 0zM134.475 277.996h49.968v40.297h-49.968z"})))}},81822:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/roulette",function(){return l(47184)}])},12341:function(e,t,l){"use strict";var a=l(85893),r=l(19870),o=l(94184),n=l.n(o),u=l(67294),s=l(2664),i=l(11706),m=l.n(i),c=l(1277);t.Z=u.memo(function(e){let{historyValues:t,forRoulette:l}=e,o=(0,c.Z)(),u=(0,s.I0)(),getProperColor=e=>e>2&&e<7?"gameLatestItemYellow":e>=7?"gameLatestItemBlue":"purple"===e?"gameLatestItemPurple":"red"===e?"gameLatestItemRed":"yellow"===e?"gameLatestItemYellow":"gameLatestItemNeutral",getRouletteX=e=>"purple"===e?"2X":"yellow"===e?"14X":"red"===e?"2x":void 0;return(null==t?void 0:t.length)?(0,a.jsx)("div",{className:n()(l&&m().rouletteGameLatest,"gameLatest gameLatestHorizontal",!l&&"lastestHistory"),children:(l?t.slice(-3):o.width<768?t.slice(-6):t.slice(-7)).map((e,t)=>{var l,o;return(0,a.jsx)("div",{onClick:()=>u({type:r.LE,payload:{...e,gameName:"roulette"}}),style:{cursor:"pointer"},className:n()("gameLatestItem ".concat(getProperColor(null!==(l=e.crashPoint)&&void 0!==l?l:e.winningColor))),children:null!==(o=e.crashPoint)&&void 0!==o?o:getRouletteX(e.winningColor)},t)})}):(0,a.jsx)(a.Fragment,{})})},27031:function(e,t,l){"use strict";l.d(t,{Z:function(){return GameLayout}});var a=l(85893),r=l(76633),o=l.n(r),n=l(94184),u=l.n(n),s=l(1277);let i={left:o().gameLayoutColumnLeft,right:o().gameLayoutColumnRight,row:o().gameLayoutColumnRow,anotherLeft:o().gameLayoutColumnAnotherLeft,anotherRight:o().gameLayoutColumnAnotherRight};function GameLayout(e){let{className:t,children:l,...r}=e;return(0,a.jsx)("div",{className:o().gameLayout,...r,children:l})}GameLayout.Column=function(e){let{type:t,className:l,children:r,customMobileOrder:n="initial",...m}=e,c=(0,s.Z)();return(0,a.jsx)("div",{className:u()(o().gameLayoutColumn,i[t],l),style:{order:c.width<993?n:"initial"},...m,children:r})}},47184:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return RoulettePage}});var a,r,o,n,u,s,i,m,c,d=l(85893),h=l(67294),y=l(13021),g=l(86501),p=l(2664),v=l(34558),x=l(33900),_=l(19870),f=l(27031),C=l(10990),j=l(94184),w=l.n(j),P=l(11706),I=l.n(P);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var currencyForSlider=function(e){return h.createElement("svg",_extends({viewBox:"0 0 17 19",xmlns:"http://www.w3.org/2000/svg"},e),a||(a=h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.975 5.35 8.836 1.788a.67.67 0 0 0-.672 0L2.025 5.351a.677.677 0 0 0-.336.585v7.128c0 .241.128.465.336.585l6.139 3.564a.67.67 0 0 0 .672 0l6.139-3.564a.677.677 0 0 0 .336-.585V5.936a.677.677 0 0 0-.336-.585ZM9.509.616a2.009 2.009 0 0 0-2.018 0L1.353 4.18a2.032 2.032 0 0 0-1.01 1.757v7.128c0 .725.385 1.395 1.01 1.757l6.138 3.564a2.009 2.009 0 0 0 2.018 0l6.139-3.564a2.031 2.031 0 0 0 1.009-1.757V5.936c0-.725-.385-1.395-1.01-1.757L9.51.615Z"})),r||(r=h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 12.44h1.585V9.945c.199-.052.89-.047.89.387v2.106h1.564V9.883c-.045-.18-.293-.538-.916-.522.305-.033.916-.256.916-.891v-.968c-.022-.38-.357-1.143-1.512-1.143H4v6.08Zm1.558-5.074V8.82h.618c.153-.026.459-.21.459-.736 0-.527-.306-.697-.459-.717h-.618Z"})),o||(o=h.createElement("path",{d:"M11.303 8.902c-.55-.246-1.071-.477-1.07-.74.002-.182.282-.367.748-.367h.012c.618.004 1.215.499 1.33.621l.115.122 1.062-.972-.114-.106c-.18-.167-.806-.708-1.62-.947l.009-1.004-1.485-.01-.008.98c-.928.228-1.547.89-1.554 1.681-.008 1.041 1.09 1.532 1.973 1.926.55.245 1.068.476 1.066.74 0 .091-.065.18-.181.252-.144.088-.35.136-.579.133-.702-.004-1.312-.632-1.318-.639l-.114-.123-1.075.971.118.11c.18.168.812.716 1.616.953l-.008 1.005 1.484.01.008-.982c.935-.237 1.558-.904 1.564-1.69.009-1.04-1.093-1.53-1.979-1.924Z"})))};function ticket_extends(){return(ticket_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var ticket=function(e){return h.createElement("svg",ticket_extends({width:48,height:48,xmlns:"http://www.w3.org/2000/svg"},e),n||(n=h.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m44.448 12.688 2.797 2.796a2.596 2.596 0 0 1 .005 3.656L19.143 47.246a2.593 2.593 0 0 1-3.656 0l-2.805-2.805c-.626-.626-.725-1.584-.54-2.45a5.168 5.168 0 0 0-6.132-6.13c-.866.184-1.824.086-2.45-.54L.754 32.516a2.591 2.591 0 0 1 0-3.655L28.856.753a2.593 2.593 0 0 1 3.656 0l2.806 2.805c.626.626.724 1.584.54 2.45a5.172 5.172 0 0 0 6.121 6.138c.872-.184 1.84-.09 2.47.54Zm-29.215 8.985c-.689.7-.695 1.81-.014 2.482.682.671 1.793.648 2.482-.051l2.645-2.377 7.225 7.697c.681.672 1.792.649 2.482-.051.689-.7.695-1.81.014-2.482l-7.225-7.697 2.34-2.288c.69-.7.695-1.81.014-2.482-.681-.671-1.792-.648-2.482.051l-7.48 7.198Z"})))};function coin_extends(){return(coin_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e}).apply(this,arguments)}var coin=function(e){return h.createElement("svg",coin_extends({width:44,height:41,xmlns:"http://www.w3.org/2000/svg"},e),u||(u=h.createElement("path",{d:"M13.991 39.097c.084.087 0 .228-.117.199-.224-.057-.445-.12-.665-.189-1.661-.514-3.182-1.336-4.48-2.473-.072-.063-.001-.178.086-.141.955.404 1.97.705 3.037.899.399.072.765.27 1.046.563l1.093 1.142ZM17.907 37.667l1.704 1.781a.124.124 0 0 1-.076.209 16.749 16.749 0 0 1-2.667.082 1.086 1.086 0 0 1-.728-.339l-1.528-1.597a.092.092 0 0 1 .065-.156 31.56 31.56 0 0 0 1.601-.054c.36-.028.719-.068 1.078-.117a.644.644 0 0 1 .55.19ZM36.962 11.348c-.12-.42-.257-.834-.416-1.238-.014-.037.035-.067.06-.036a11.754 11.754 0 0 1 1.745 2.764c.014.03-.025.056-.048.033l-1.173-1.228a.71.71 0 0 1-.168-.295ZM22.063 36.49l1.869 1.955a.145.145 0 0 1-.057.236c-.13.044-.26.087-.388.128-.613.2-1.23.367-1.843.502a.473.473 0 0 1-.442-.136l-1.786-1.868a.142.142 0 0 1 .07-.237c.737-.18 1.47-.404 2.195-.668a.358.358 0 0 1 .382.088ZM27.589 36.744a.187.187 0 0 1-.043.293l-.308.169c-.53.286-1.065.548-1.604.784a.31.31 0 0 1-.346-.07l-1.879-1.966a.178.178 0 0 1 .054-.285c.645-.296 1.28-.624 1.905-.984a.237.237 0 0 1 .291.041l1.93 2.018ZM30.846 34.63a.136.136 0 0 1-.013.199l-.337.262c-.468.361-.945.701-1.429 1.02a.206.206 0 0 1-.261-.031l-2.001-2.093a.136.136 0 0 1 .023-.208c.6-.403 1.189-.834 1.762-1.294a.16.16 0 0 1 .218.015l2.038 2.13ZM33.635 32.019c.055.058.057.15.002.208-.097.106-.196.21-.295.315-.337.352-.976.957-1.245 1.21a.173.173 0 0 1-.244-.009l-2-2.093a.177.177 0 0 1 .005-.25 48.643 48.643 0 0 0 1.52-1.504.155.155 0 0 1 .226 0l2.03 2.123ZM36.102 29.079a27.118 27.118 0 0 1-.51.741 35.972 35.972 0 0 0-1.952-2.736c.078-.113.155-.226.23-.34l2.232 2.335ZM37.855 25.39a.31.31 0 0 1 .061.337c-.055.126-.111.252-.17.376-.254.56-.536 1.117-.846 1.665a.11.11 0 0 1-.174.022l-2.12-2.22c.422-.72.799-1.454 1.132-2.194a.102.102 0 0 1 .167-.029l1.95 2.043ZM39.147 21.213a.3.3 0 0 1 .079.259 18.545 18.545 0 0 1-.655 2.538.087.087 0 0 1-.146.032l-1.965-2.056a.267.267 0 0 1-.058-.273c.287-.814.52-1.63.697-2.448a.085.085 0 0 1 .146-.041l1.902 1.99ZM39.338 19.473l-1.79-1.87a.466.466 0 0 1-.126-.367c.109-1.053.122-2.092.037-3.107a.078.078 0 0 1 .135-.061l1.511 1.58c.11.117.186.263.213.421.04.243.074.488.1.735.094.854.111 1.731.057 2.62-.004.068-.09.099-.137.05Z"})),s||(s=h.createElement("path",{d:"M28.413 24.945a19.617 19.617 0 0 1-2.265 2.44c-2.9 2.634-6.4 4.266-9.855 4.593-.427.04-.848.06-1.26.06-2.967 0-5.529-1.042-7.301-2.994-3.68-4.056-2.867-10.963 1.606-16.285a19.311 19.311 0 0 1 1.75-1.826 26.694 26.694 0 0 0-2.773-1.376l-.038.038c-.356.356-.699.724-1.024 1.095-.239.271-.471.547-.697.825C.953 18.459.084 27.38 4.939 32.727c5.536 6.098 16.418 5.234 24.304-1.928a24.773 24.773 0 0 0 2.237-2.314l.003-.004a61.004 61.004 0 0 0-3.07-3.536Zm-6.285-6.01c-3.515-2.991-7.102-5.682-10.276-7.56l-.317.307c-.509.474-.983.969-1.422 1.48-4.31 5.014-5.174 11.534-1.748 15.31 1.834 2.018 4.62 2.962 7.847 2.656 3.273-.31 6.598-1.863 9.36-4.373a18.634 18.634 0 0 0 1.8-1.876c.06-.074.122-.148.181-.222l.284-.32a76.903 76.903 0 0 0-5.71-5.401ZM29.455 21.743a75.933 75.933 0 0 0-5.425-4.937l-.186-.154a79.066 79.066 0 0 0-1.772-1.424 88.255 88.255 0 0 0-4.193-3.103 72.882 72.882 0 0 0-3.777-2.45c5.395-3.511 11.552-3.492 14.83.118 2.615 2.879 2.803 7.522.523 11.95Z"})),i||(i=h.createElement("path",{d:"M33.08 26.384a54.803 54.803 0 0 0-3.212-3.611l.061-.11c2.743-4.902 2.599-10.179-.366-13.443-3.682-4.056-10.625-4.001-16.504.128l-.16.112a47.47 47.47 0 0 0-2.815-1.51C17.88 1.506 28.167.92 33.498 6.792c4.486 4.938 4.088 12.928-.417 19.593Z"})),m||(m=h.createElement("path",{d:"M38.601 36.345c-.995 1.172-3.248 1.118-6.247.074-.307-.107-.205-.567.118-.535 1.541.155 3.662-.493 3.945-1.49.748-2.635-6.01-10.883-13.165-16.974C15.5 10.82 7.385 5.676 4.14 7.496c-1.094.614-.736 3.066-.005 5.01.116.31-.244.468-.49.246C.18 9.624-1.024 5.793.946 3.712 5.108-.68 18.551 8.465 25.471 14.722c9.237 8.35 15.601 18.719 13.13 21.624ZM43.045 4.314l-2.944.846a.636.636 0 0 0-.437.437l-.846 2.944c-.01.032-.054.032-.063 0l-.846-2.944a.636.636 0 0 0-.437-.437l-2.944-.846c-.032-.01-.032-.054 0-.063l2.944-.846a.636.636 0 0 0 .437-.437l.846-2.944c.01-.032.054-.032.063 0l.846 2.944a.636.636 0 0 0 .437.437l2.944.846c.032.009.032.053 0 .063ZM6.757 37.193l-2.157.62a.47.47 0 0 0-.32.32l-.62 2.158c-.008.023-.04.023-.048 0l-.62-2.157a.47.47 0 0 0-.32-.32l-2.158-.62c-.023-.007-.023-.04 0-.047l2.158-.62a.47.47 0 0 0 .32-.321l.62-2.158c.007-.022.04-.022.047 0l.62 2.158a.47.47 0 0 0 .32.32l2.158.62a.024.024 0 0 1 0 .047Z"})),c||(c=h.createElement("path",{opacity:.2,d:"M9.337 12.759c-1.069-.543-2.01-.966-2.782-1.245a24.97 24.97 0 0 1 1.721-1.92l.038-.037c.869.363 1.8.828 2.773 1.375a19.557 19.557 0 0 0-1.75 1.827ZM27.837 24.337l-.284.319c-.06.074-.12.149-.182.222-5.67-4.66-12.505-9.197-17.257-11.717.44-.51.913-1.006 1.422-1.48l.318-.307c3.173 1.878 6.761 4.57 10.275 7.561a77.483 77.483 0 0 1 5.708 5.402ZM31.484 28.481l-.004.004a75.371 75.371 0 0 0-3.452-3.061c.132-.157.26-.317.384-.477a61.078 61.078 0 0 1 3.072 3.534Z",fill:"#231F20"})))},Z=l(62484),R=l(12341),L=l(69316),b=l(83480),N=l(97787);function RouletteGame(e){let{winningColor:t,className:l,currentGame:a,rouletteHistory:r,betAmount:o,user:n,setCurrentGameHistory:u,setBetAmount:s,...i}=e,m=(0,p.I0)(),c=(0,h.useRef)(null),y=(0,h.useRef)(null),g=(0,h.useRef)(null),[,v]=(0,h.useState)(!1),[,f]=(0,h.useState)(!1),[,j]=(0,h.useState)(15e3),[P,k]=(0,h.useState)("Loading..."),[A,G]=(0,h.useState)("none"),[S,M]=(0,h.useState)(0),countdownUpdated=e=>{e>0?k("Rolling in "+e/1e3+"s"):0==S&&k("Committing to EOS block..."),G("none"),j(e)},gameRolled=e=>{k("Rolling..."),console.log(e),u(t=>({...t,winningColor:e.winningColor,privateSeed:e.privateSeed})),G(e.winningColor)},eosCommitted=e=>{k("Waiting for EOS block #"+e)};return(0,h.useEffect)(()=>(x.YR.on("countdown-updated",countdownUpdated),x.YR.on("game-rolled",gameRolled),x.YR.on("eos-commit",eosCommitted),()=>{x.YR.off("countdown-updated",countdownUpdated),x.YR.off("game-rolled",gameRolled),x.YR.off("eos-commit",eosCommitted)}),[]),(0,h.useEffect)(()=>{var e,t,l,a,r;if(g&&g.current&&(g.current.style.transform="none"),"none"==A){C.ZP.to(y.current,{x:0,duration:1,ease:"expo.out",onComplete:()=>{v(!1),f(!0)}});return}let o=null===(e=c.current)||void 0===e?void 0:e.children.item(0);if(o){let e=[],t=0;for(let l of o.children)++t>100&&t<150&&l.getAttribute("data-color")===A&&e.push(l);g.current=e[Math.floor(Math.random()*e.length)]}f(!1);let n=null===(t=g.current)||void 0===t?void 0:t.getBoundingClientRect().left,u=null===(l=c.current)||void 0===l?void 0:l.getBoundingClientRect().left,s=null===(a=g.current)||void 0===a?void 0:a.offsetWidth,i=null===(r=c.current)||void 0===r?void 0:r.offsetWidth;n=n-u-i/2,C.ZP.ticker.lagSmoothing(!1),C.ZP.to(y.current,{x:"".concat(-(n+s/2)),duration:10,ease:"expo.out",onComplete:()=>{v(!1),f(!0);let e="yellow"==A?14:2;k("Rolled "+e+"x ("+A+")"),g.current.style.transform="scale(1.2)"}})},[A]),(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:w()(I().rouletteGame,l),...i,children:[(0,d.jsx)(R.Z,{forRoulette:!0,className:w()("gameLatest gameLatestHorizontal"),historyValues:r}),(0,d.jsx)("div",{className:I().rouletteGameStatus,children:P}),(0,d.jsxs)("div",{style:{display:"flex",overflow:"hidden",position:"relative",width:"100%"},children:[(0,d.jsx)("div",{style:{overflow:"visible",width:"100%",transform:"translate(0px, 0px)"}}),(0,d.jsx)("div",{style:{transform:"translateX(0px)",width:"100%",display:"flex",justifyContent:"center"},className:I().rouletteGameTrack,ref:c,children:(0,d.jsx)("div",{className:I().rouletteGameTrackInner,ref:y,children:Array(80).fill(0).map((e,t)=>(0,d.jsxs)(d.Fragment,{children:[t%18==0&&(0,d.jsx)("div",{"data-color":"yellow",className:w()(I().rouletteGameTrackItem,I().rouletteGameTrackItemYellow),children:(0,d.jsx)(coin,{width:43,height:41})}),(0,d.jsx)("div",{"data-color":"purple",className:w()(I().rouletteGameTrackItem,I().rouletteGameTrackItemPurple),children:(0,d.jsx)(currencyForSlider,{width:40,height:45})}),(0,d.jsx)("div",{"data-color":"red",className:w()(I().rouletteGameTrackItem,I().rouletteGameTrackItemRed),children:(0,d.jsx)(ticket,{width:48,height:48})})]}))})})]}),(0,d.jsx)("div",{className:I().rouletteGameAmount,children:(0,d.jsxs)("div",{className:w()(I().rouletteGameAmountInput,"customInput"),children:[(0,d.jsx)(L.Z,{element:"p",textType:"labelsRegular",className:w()("customInputLabel"),children:"Bet amount"}),(0,d.jsxs)("div",{className:w()("customInputInner"),children:[(0,d.jsx)(N.Z,{pattern:"^-?[0-9]\\d*\\.?\\d*$",onKeyPress:e=>{/[0-9]/.test(e.key)||e.preventDefault()},hasCurrencyIcon:!0,onChange:e=>s(e.currentTarget.value),value:o}),(0,d.jsxs)("div",{className:w()("customInputInnerButtons"),children:[(0,d.jsx)(b.Z,{variant:"inputButton",onClick:()=>s(Math.floor(o/2)),children:"1/2"}),(0,d.jsx)(b.Z,{variant:"inputButton",onClick:()=>s(Math.min(Math.max(2*o,0),5e4)),children:"2x"}),(0,d.jsx)(b.Z,{variant:"inputButton",onClick:()=>s(Math.min(Math.max(Math.floor(n.wallet+n.bonusWallet),0),5e4)),children:"Max"})]})]})]})}),(0,d.jsxs)("div",{className:I().rouletteGameInfo,children:[(0,d.jsx)(b.Z,{onClick:()=>m({type:_.LE,payload:{...a,gameName:"roulette"}}),variant:"betOption",children:"Fairness"}),(0,d.jsx)(b.Z,{onClick:()=>m({type:_.hj,payload:"Roulette"}),variant:"betOption",children:(0,d.jsx)(Z.Z,{style:{height:".75em"}})})]})]})})}var k=l(66713),A=l(25545),G=l(40975),S=l(64709);function RoulettePlayers(e){var t,l,a,r;let{players:o,joinedColors:n,rouletteJoinGame:u,className:s,...i}=e;return(0,d.jsxs)("div",{className:w()(I().roulettePlayers,s),...i,children:[(0,d.jsxs)("div",{className:w()(I().roulettePlayersColumn,I().yellow),children:[(0,d.jsx)("div",{className:I().roulettePlayersColumnBet,children:(0,d.jsx)(b.Z,{disabled:null==n?void 0:n.yellow,onClick:()=>u("yellow"),variant:"default",children:"14x Bet"})}),(0,d.jsx)("div",{className:I().roulettePlayersColumnList,children:o&&(null===(l=o.filter(e=>"yellow"===e.color))||void 0===l?void 0:null===(t=l.sort((e,t)=>e.betAmount>t.betAmount?-1:t.betAmount>e.betAmount?1:0))||void 0===t?void 0:t.map((e,t)=>(0,d.jsxs)("div",{className:I().roulettePlayersColumnItem,children:[(0,d.jsxs)("div",{className:I().roulettePlayersColumnItemPlayer,children:[(0,d.jsx)(A.Z,{className:I().roulettePlayersColumnItemPlayerAvatar,isPrivateMode:"anonymous"===e.username.toLowerCase(),userId:e.playerID,imageAlt:"User avatar",boxSize:"medium"}),(0,d.jsx)(L.Z,{element:"span",textType:"regular16",className:I().roulettePlayersColumnItemPlayerName,children:e.username})]}),(0,d.jsxs)("div",{className:I().roulettePlayersColumnItemAmount,children:[(0,d.jsx)(L.Z,{element:"span",textType:"regular14",children:(0,G.Z)((0,S.Z)(e.betAmount))}),(0,d.jsx)(k.Z,{})]})]},t)))})]}),(0,d.jsxs)("div",{className:w()(I().roulettePlayersColumn,I().red),children:[(0,d.jsx)("div",{className:I().roulettePlayersColumnBet,children:(0,d.jsx)(b.Z,{disabled:null==n?void 0:n.red,onClick:()=>u("red"),variant:"default",children:"2x Bet"})}),(0,d.jsx)("div",{className:I().roulettePlayersColumnList,children:o&&(null===(a=o.filter(e=>"red"===e.color))||void 0===a?void 0:a.sort((e,t)=>e.betAmount>t.betAmount?-1:t.betAmount>e.betAmount?1:0).map((e,t)=>(0,d.jsxs)("div",{className:I().roulettePlayersColumnItem,children:[(0,d.jsxs)("div",{className:I().roulettePlayersColumnItemPlayer,children:[(0,d.jsx)(A.Z,{className:I().roulettePlayersColumnItemPlayerAvatar,isPrivateMode:"anonymous"===e.username.toLowerCase(),userId:e.playerID,imageAlt:"User avatar",boxSize:"medium"}),(0,d.jsx)(L.Z,{element:"span",textType:"regular16",className:I().roulettePlayersColumnItemPlayerName,children:e.username})]}),(0,d.jsxs)("div",{className:I().roulettePlayersColumnItemAmount,children:[(0,d.jsx)(L.Z,{element:"span",textType:"regular14",children:(0,G.Z)((0,S.Z)(e.betAmount))}),(0,d.jsx)(k.Z,{})]})]},t)))})]}),(0,d.jsxs)("div",{className:w()(I().roulettePlayersColumn,I().purple),children:[(0,d.jsx)("div",{className:I().roulettePlayersColumnBet,children:(0,d.jsx)(b.Z,{disabled:null==n?void 0:n.purple,onClick:()=>u("purple"),variant:"default",children:"2x Bet"})}),(0,d.jsx)("div",{className:I().roulettePlayersColumnList,children:null===(r=o.filter(e=>"purple"===e.color))||void 0===r?void 0:r.sort((e,t)=>e.betAmount>t.betAmount?-1:t.betAmount>e.betAmount?1:0).map((e,t)=>(0,d.jsxs)("div",{className:I().roulettePlayersColumnItem,children:[(0,d.jsxs)("div",{className:I().roulettePlayersColumnItemPlayer,children:[(0,d.jsx)(A.Z,{className:I().roulettePlayersColumnItemPlayerAvatar,isPrivateMode:"anonymous"===e.username.toLowerCase(),userId:e.playerID,imageAlt:"User avatar",boxSize:"medium"}),(0,d.jsx)(L.Z,{element:"span",textType:"regular16",className:I().roulettePlayersColumnItemPlayerName,children:e.username})]}),(0,d.jsxs)("div",{className:I().roulettePlayersColumnItemAmount,children:[(0,d.jsx)(L.Z,{element:"span",textType:"regular14",children:(0,G.Z)((0,S.Z)(e.betAmount))}),(0,d.jsx)(k.Z,{})]})]},t))})]})]})}let M={red:!1,purple:!1,yellow:!1};var roulette=e=>{let{...t}=e,[l,a]=(0,h.useState)(!1),[r,o]=(0,h.useState)([]),[n,u]=(0,h.useState)(!1),[s,i]=(0,h.useState)(),[m,c]=(0,h.useState)([]),[y,C]=(0,h.useState)({}),[j,w]=(0,h.useState)(M),[P,I]=(0,h.useState)("30"),Z=(0,p.v9)(e=>e.auth.user),R=(0,p.I0)();(0,h.useEffect)(()=>{let fetchData=async()=>{try{let e=await (0,v.w4)();c(e.history),i(e.current),C({_id:e.current._id,publicSeed:e.current.publicSeed,privateHash:e.current.privateHash,winningColor:e.current.winningColor}),a(e.current.joinable),o(e.current.players),u(e.current.winningColor)}catch(e){g.Am.error("There was an error while loading the active roulette game, please refresh the page and try again")}};fetchData()},[]);let gameRolled=e=>{i(t=>({...t,...e})),u(e.winningColor),C(t=>({...t,privateSeed:e.privateSeed,publicSeed:e.publicSeed}))},addNewPlayer=e=>{o(t=>[...t,e]),console.log(e.username,null==Z?void 0:Z.robloxUsername,e.username===(null==Z?void 0:Z.robloxUsername)),e.username===(null==Z?void 0:Z.robloxUsername)&&w(t=>({...t,[e.color]:!0}))},newRoundStarted=e=>{i(e),o([]),a(!0),w(M),setTimeout(()=>{C(t=>(c(e=>[...e,t]),{_id:e.gameId,privateHash:e.privateHash}))},10)},joinError=e=>{e.includes("afford this")&&(console.debug("show deposit modal"),R({type:_.Mr,shouldSendEvent:!0})),g.Am.error(e)};return(0,h.useEffect)(()=>{(null==Z?void 0:Z.robloxUsername)&&x.YR.on("new-player",addNewPlayer)},[null==Z?void 0:Z.robloxUsername]),(0,h.useEffect)(()=>(x.YR.on("game-rolled",gameRolled),x.YR.on("new-round",newRoundStarted),x.YR.on("game-join-error",joinError),()=>{x.YR.off("game-rolled",gameRolled),x.YR.off("new-player",addNewPlayer),x.YR.off("new-round",newRoundStarted),x.YR.off("game-join-error",joinError)}),[]),(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(f.Z,{...t,children:[(0,d.jsx)(f.Z.Column,{type:"row",children:(0,d.jsx)(RouletteGame,{currentGame:s,rouletteHistory:m,betAmount:P,user:Z,setCurrentGameHistory:C,setBetAmount:I})}),(0,d.jsx)(f.Z.Column,{type:"row",children:(0,d.jsx)(RoulettePlayers,{players:r,joinedColors:j,rouletteJoinGame:e=>{x.YR.emit("join-game",{color:e,betAmount:parseFloat(P)})}})})]})})};function RoulettePage(){return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(roulette,{})})}RoulettePage.getLayout=function(e){return(0,d.jsx)(y.Z,{children:e})}},76633:function(e){e.exports={gameLayout:"game-layout_gameLayout__bgIOR",gameLayoutColumnRow:"game-layout_gameLayoutColumnRow__0wXiL",gameLayoutColumn:"game-layout_gameLayoutColumn__q01vS",gameLayoutColumnLeft:"game-layout_gameLayoutColumnLeft__55fuZ",gameLayoutColumnRight:"game-layout_gameLayoutColumnRight__oj_7g",gameLayoutColumnAnotherLeft:"game-layout_gameLayoutColumnAnotherLeft__uOx3g",gameLayoutColumnAnotherRight:"game-layout_gameLayoutColumnAnotherRight__j_wQx"}},11706:function(e){e.exports={rouletteGame:"roulette_rouletteGame__60JcH",rouletteGameLatest:"roulette_rouletteGameLatest__LhUg4",rouletteGameStatus:"roulette_rouletteGameStatus__bDP2x",rouletteGameTrack:"roulette_rouletteGameTrack__Gy3SC",rouletteGameTrackInner:"roulette_rouletteGameTrackInner__z_usk",rouletteGameTrackItem:"roulette_rouletteGameTrackItem__Dvguo",isWin:"roulette_isWin__jZsDR",rouletteGameTrackItemYellow:"roulette_rouletteGameTrackItemYellow__SO6Fe",rouletteGameTrackItemRed:"roulette_rouletteGameTrackItemRed__dSEzZ",rouletteGameTrackItemPurple:"roulette_rouletteGameTrackItemPurple__wRH_J",rouletteGameAmount:"roulette_rouletteGameAmount__hHF2j",rouletteGameAmountInput:"roulette_rouletteGameAmountInput__u_Qwt",rouletteGameInfo:"roulette_rouletteGameInfo__Rwy4c",roulettePlayers:"roulette_roulettePlayers__pRhtK",roulettePlayersColumn:"roulette_roulettePlayersColumn__iBsQD",yellow:"roulette_yellow__Eykdl",red:"roulette_red__VdQkc",purple:"roulette_purple__Bqk8z",roulettePlayersColumnBet:"roulette_roulettePlayersColumnBet__cMNoI",roulettePlayersColumnList:"roulette_roulettePlayersColumnList__1P8kU",roulettePlayersColumnItem:"roulette_roulettePlayersColumnItem__PD_XB",roulettePlayersColumnItemPlayer:"roulette_roulettePlayersColumnItemPlayer__gWklH",roulettePlayersColumnItemAmount:"roulette_roulettePlayersColumnItemAmount__lOTx6",roulettePlayersColumnItemPlayerAvatar:"roulette_roulettePlayersColumnItemPlayerAvatar__oTsB5",roulettePlayersColumnItemPlayerName:"roulette_roulettePlayersColumnItemPlayerName__lTQqL",rouletteBet:"roulette_rouletteBet__bwqE5"}}},function(e){e.O(0,[4885,8802,2252,990,6107,9774,2888,179],function(){return e(e.s=81822)}),_N_E=e.O()}]);